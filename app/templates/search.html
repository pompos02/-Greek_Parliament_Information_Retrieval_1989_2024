<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speech Search Results</title>
    <link rel="stylesheet" href="/static/styles.css"> <!-- Optional, customize as needed -->
</head>
<body>
    <header>
        <h1>Speech Search Results</h1>
        <form action="/search" method="get">
            <input type="text" name="q" value="{{ query }}" placeholder="Enter search term...">
            <button type="submit">Search</button>
        </form>
    </header>

    {% if error %}
        <div class="error">{{ error }}</div>
    {% endif %}

    {% if no_results %}
        <div class="no-results">No results found for "{{ query }}"</div>
    {% else %}
        <div class="results">
            <p>Showing results for: <strong>{{ query }}</strong></p>
            <p>Total results found: {{ total_results }}</p>

            <ul class="result-list">
                {% for result in results %}
                    <li class="result-item">
                        <h3><strong>Member Name:</strong> {{ result.member_name }}</h3>
                        <p><strong>Political Party:</strong> {{ result.political_party }}</p>
                        <p><strong>Date:</strong> {{ result.sitting_date }}</p>
                        <p><strong>Speech:</strong> {{ result.speech }}</p>
                        <p><strong>Relevance Score:</strong> {{ result.score }}</p>
                    </li>
                {% endfor %}
            </ul>

            <div class="pagination">
                {% if has_prev %}
                    <a href="/search?q={{ query }}&page={{ page - 1 }}&per_page={{ per_page }}" class="prev">Previous</a>
                {% endif %}
                <span>Page {{ page }} of {{ total_pages }}</span>
                {% if has_next %}
                    <a href="/search?q={{ query }}&page={{ page + 1 }}&per_page={{ per_page }}" class="next">Next</a>
                {% endif %}
            </div>
        </div>
    {% endif %}
</body>
</html>
